{% extends "layout.html" %}

{% block title %}
    Torture
{% endblock %}

{% block main %}
    <div id="prone">
        <p>Wonderful news, you have been made chief of police in your city.</p>
        <hr>
        <a href="#" onclick="make_visible('prtwo');">Continue</a>
    </div>

    <div id="prtwo" style="display: none">
        <p>And a truly magnificent city it is. One million inhabitants and even more non-human constituents. Over the past several years, you have seen this city change and grow into what it is today. Buildings built over many years and some over some weeks. This city has seen your ups and downs, your praises and curses, your imperfections and your growth.And now you can finally be the one to protect it.</p><p>And an easy job it is. With record low crime rates and even better surveillance, cases almost seem to solve themselves. Easy job.</p><p>LoL, you wish! Your officers bring you news of a very unsettling arrest they’ve made.</p><p>An individual of mysterious origin sits in the cold underground investigation chamber. Your officers brief you of the situation. The individual claims to have planted a nuclear bomb somewhere in the city that will detonate within the day. Judging from the schematics found in their belongings, this alleged bomb would kill at least one million people within the city. At least half the city would be levelled in an instant if this bomb went off. It’s basically a suicide bombing.</p><p>There is a good chance if found, the bomb will be successfully diffused. In fact, top experts are already scouring the city and combing surveillance footage. However, there is a high chance that the individual will give up the bomb’s location if tortured. Your officers are loyal, they will do as you command.</p><p>And they await the fateful command…</p>
        <hr>
        <p id="machi"><a href="#" onclick="make_invisible('princ'); make_visible('machitor');">Prepare the tools, we must save this city at all costs.</a></p>
        <p id="princ"><a href="#" onclick="make_invisible('machi'); make_visible('princtor');">We are the enforcers of the law. How can we break the law and still maintain it? We will find the bomb.</a></p>
    </div>

    <div id="machitor" style="display: none;">
        <p>4 hours.</p><p>4 whole hours of watching this unknown face scream and cough under the force of your officers’ anger. Even after spitting out what would be their 10th tooth, and clenching their freshly-denailed raw fingers into a tight fist, the individual does not yield. It is maddening.</p><p>Maybe it was foolish to believe that an individual who is ready to die would fear pain.</p><p>But the city needs you. Reports indicate that the bomb is still at large. Time is running out. You need to do something!</p><p>Your officers must not be convincing enough. If you want something done, you have to do it yourself. You pull back your sleeves and request your officers bring you <i>the tools</i>.</p><p>Just as you are about enter the interr- sorry, torture chamber. Your officer walks in dragging a cuffed individual. Apparently, this one was looking for our bomber for years and by sheer stroke of luck, happened to be arrested just prior to our bomber’s arrest for pickpocketing. They are shedding tears and begging to dissuade the bomber themselves. A lover?</p><p>You’re out of options so you bring them into the chamber. It is only for a fraction of a second but you catch the bomber’s look of absolute fear mixed with rage when they see you enter the room with the individual. Aha, you were right, it is a loved one. This is a fortuitous opportunity. The bomber may be immune to their own pain but maybe the pain of a loved one will crack them.</p><p>You signal your officers and they quickly tie the loved one onto a chair directly in front of the bomber. </p>
        <hr>
        <p id="machisless"><a href="#" onclick="make_invisible('machislish');show_answer('loslishend');make_visible('final');">Another criminal’s pain is of little consequence. The bomber (and the unfortunate loved one) will yield to your iron will.</a></p>
        <p id="machislish"><a href="#" onclick="make_invisible('machisless');show_answer('hislishend');make_visible('final');">The loved one is not an accomplice. It would be excessive to hurt them for a gamble at the bomber’s heart. We shall simply trust in the bomb squad.</a></p>
    </div>

    <div id="princtor" style="display: none;">
        <p>Your skills of deduction are well known within the city. Some say the governing body saw your unmatched ability to follow clues and handpicked you for this post. Your officers know that if you seek out the bomb, you will find it.</p><p>However, there are so many variables. So many factors in play. So much of the city to dissect, both laterally and vertically. However, there is also another factor to consider. Not only are you the best locator, you are also the best bomb diffuser on the force. If the bomb is found and you get your hands on it, you are certain you can diffuse it in time. Unfortunately, this is against protocol. Standard protocol in this city is that you, chief, stay at the police station and organize your officer’s activities remotely. You need to keep seeing the whole picture in order to coordinate effectively.</p><p>The only way to assure that the bomb is diffused one found is to break the protocol that maintains order among your officers.</p><p>But if you are on the ground, you cannot coordinate the bomb squad as perfectly because you won’t see the big picture. But if you are at the surveillance hub, you might not get to the bomb in time if it is found. And your officers are skeptical about the second-rank bomb diffuser on the force. They are quite skilled, but they are not you. How it must hurt to live in the shadow of greatness. We have no time to waste…</p>
        <hr>
        <p id="hopprinc"><a href="#" onclick="make_invisible('susprinc');make_invisible('ratprinc');make_invisible('deadprinc');show_answer('fatalprinc');make_visible('final');">Fate will decide if we are to find the bomb in time. However, should we find the bomb, we should be certain about its successful diffusal. My presence increases success chances.</a></p>
        <p id="ratprinc"><a href="#" onclick="make_invisible('susprinc');make_invisible('hopprinc');make_invisible('deadprinc');show_answer('hiprinc');make_visible('final');">It is only sensible to stay back and guide the officers. We must have faith in our colleagues’ skills if we are to maintain this police team.</a></p>
        <p id="deadprinc"><a href="#" onclick="make_invisible('susprinc');make_invisible('hopprinc');make_invisible('ratprinc');show_answer('failfatal');make_visible('final');">Okay but what is the point? Why do we even try...</a></p>
        <p id="susprinc"><a href="#" onclick="make_invisible('ratprinc');make_invisible('hopprinc');make_invisible('deadprinc');show_answer('utiliprinc');make_visible('final');">Why do I get the feeling I'm being played and that everything will disintegrate in the end? Even though I doubt this bomb even exists, it is only prudent to lead the bomb squad.</a></p>
    </div>

    <div id="answer"></div>
    <p><a href="questions" id="final" onclick="send();" style="display: none">Continue</a></p>

    <script>
        function make_visible(id) {
            var e = document.getElementById(id);
            e.style.display = 'block';
        }

        function make_invisible(id) {
            var f = document.getElementById(id);
            f.style.display = 'none';
        }

        var traits = {{ traits|safe }};
        var choices = {"loslishend": "<p>It doesn’t take as many teeth or even a full hand of nails to break them both. The screams of the loved one echoed and tore through the bomber’s resolve like a hot blade through butter.</p><p>The bomber begs you to stop, bloody tears running in zigzags along their disfigured face. Through clenched teeth and sweltering rage, they give you the exact location of the bomb and the specific code required to shut it down.</p><p>You have won this contest of wills.</p><p>The bomb squad finds the bomb and shuts it down with hardly ten minutes to spare. The city is safe because of your commitment to your land. But at what cost?</p><p>Is this what you will do next time there is a threat? How will you decide what threat legitimizes these methods? Will those criteria stay constant?</p><p>How many years of this can you withstand? Will you be human at the end?</p><p>Who knows?</p>",
            "hislishend": "<p>You sit with the two individuals and ponder. Two more hours of enhanced interrogation of the bomber in the presence of the loved one. The loved one cried and pleaded with the bomber as they suffer under your resolve. You’re almost there, you can feel it. They just need more <i>convincing</i>. And then…</p><p>The earth shakes. It shakes so much that your bones quake as the sound of thunder burrows down to your chamber. No…</p><p>You see the slumped over bomber breathe their last chuckle as you run out of the chamber and up the stairs to the surface. This cannot be happening…</p><p>You are unsure whether the world is still shaking or your body is trembling but your dash up the spiral of stairs. Were these stairs always this long?</p><p>You reach the surface to find sunlight pouring in from the missing half of your police station. Debris is scattered everywhere. Debris of inanimate and <i>formerly-animate</i> entities decorate the remainder of the building. The open view afforded by your newly-remodeled police station betrays the sight of a massive depression. A cold emptiness where half of your wonderful city once existed. </p><p>You failed. Your decisions brought you here. Would you have succeeded if you used the loved one? Would you have saved the city if you had helped the bomb squad instead?</p><p>Who knows?</p>",
            "fatalprinc": "<p>Fate is a cruel mistress, so you cannot rationally let yourself leave two important factors to her whims. Your skills will make diffusing the bomb a predetermined certanity. Fate will determine whether or not this bomb is to be found or not. If you and the city were meant to vanish today, then so be it. Your trust in the kindness of the universe may cost the lives of millions of innocent and evil people alike. But does fate love you as much as you trust her?</p><p>Who knows?</p><p>Well, apparently you do.</p><p>After an educated guess as to the location of the bomb given the place the bomber was arrested, your bomb squad splits into three teams with you leading the team heading to the most likely location. After one hour of searching every building in the vicinity, you have found nothing. You have been lucky enough to maintain public order in every building you have searched so far. It’s surprising the gullibility humans maintain even when they see heavily armored individuals roaming a building. As if the armor will be of any use. The other two teams' reports are also grim.</p><p>And then lady luck blesses you. Headquarters calls to inform you that they’ve received an unbelievable tip. A newly employed janitor was doing their job when they heard an odd hum from the pipes. Upon inspection, they realized that some very strange contraption was built into the pipes underneath the building. Here’s the amusing part, the janitor had slept late the previous night binging documentaries about planted bombs and hiding weapons in plain sight and decided to call the police. The building is one block away from your current location.</p><p>You waste no time in getting your squad to the location and you find the bomb slyly disguised within the piping. It is an absurdly intricate contraption. You are certain that the other bomb diffusers would never manage to figure it out. But you are a master.</p><p>After a tense hour of cable management and clever short circuiting, your deft hands tame the monster before you and the hum dies down. The bomb has been shut down. You have won your queen’s favour: fate is on your side.</p><p>But will she always be? How fickle can your mistress fate be? Who’s to say there isn’t a bigger bomb underneath this one set to go off a day after the first one’s diffusal?</p><p>Can you trust that fate won’t trick you out of benefitting from a good situation as she tricked out of this terrible one? Can you allow others to trust you who trusts such a fickle entity?</p><p>Who knows?</p>",
            "failfatal": "<p>You stand over your desk pondering over this heavy decision (i hope). Your senior officers offer their wisest advice. Their words are sounds but they fall on deaf ears. The decision has been made.</p><p>You open your mouth to speak but only see nothingness where that was once something.</p><p>You’re back? Huh...wow. I guess fate doesn’t like you very much. Don’t worry, she’s not well liked around here so…</p><p>Maybe she would have favoured your decisions if you trusted in her fully, I doubt anyone likes half-hearted beings. Even among us.</p><p>What happened? The bomb went off. LoL it was in the building next to the station.</p><p>Such a troll. Maybe I should change my name to fate.</p><p>On another note, how far do you think that short simulation stretched. How many characters did it entail? Just the officers etcetera? Or maybe billions. Fun fact: there were only seven other individuals in the entire world of that first scenario. But did that city truly have millions of inhabitants each with a history and ancestry as rich as the city itself? Would they believe you if you told them that I created them and all they’ve ever known merely minutes ago to test you?</p><p>Would you believe it?</p><p>Player?</p><p>That all your memories and hopes and dreams have only existed since five sentences or seconds ago? That you and all that you see exist only to facilitate a test in which someone in another continent has to pick between a red pill and a blue pill? Does it matter?</p><p>Who knows?</p>",
            "utiliprinc": "<p>Not the most consistent of individuals are you?</p><p>Nevertheless, you decide to give fate some trust. Provided she can provide results that will benefit everyone. As you and your teams search and scour the entire city, hours pass. Several, empty, uneventful hours pass.</p><p>And you begin to wonder, was this bomb even present? This whole thing could be a sharade. A simple lie to throw the entire police force into disarray. What if this was a diversion for another crime? Where?</p><p>ENOUGH!</p><p>You radio a command to all of your forces. Your mind has worked out hundreds of scenarios in your head and the possibility of this threat being true has become insignificant. You decide to return to business as usual. There is NOTHING. At any rate, using your forces in this manner is a waste of police and city resources. Your officers are loyal and place unbelievable trust in you.</p><p>The atmosphere in the station is tense as you try to go about your business. It is approaching midnight and nothing has happened. Were you right? Was this a bluff or did your gamble just cost everyone their lives? The station has emptied out but you cannot leave. You stare at the clock across your office as it chimes ever so closely to midnight.</p><p>Ding! or Dong! or YUH! or whatever your office clock sounds would be. <insert your sound here>, goes the clock. Nothing! You were correct! Nothing happened. The bomber claimed that the bomb would go off within the day and nothing has happened. But what if the time constraint was a lie?</p><p>But it wasn’t. A day passes. A week. A month. Even a year. Soon no one remembers the threat of total annihilation that loomed over them. Until the next one. If there is one.</p><p>And if there is? Will you treat it with the same disregard? Are you willing to keep making such a gamble on such a high risk case? How severe a threat would it take to earn your regard? What about when it fails?</p><p>Are you certain of every choice you make? And if you’re not, does it become a gamble? Given how many choices you make in your lifetime, does that make you a compulsive gambler? Is life itself a gamble?</p><p>Who knows?</p>",
            "hiprinc" : "<p>Some encouragement is definitely needed among your forces before such a mission. You gather the entire police force currently at the station. You muster up the most uplifting and motivational words and spew them onto your officers. You tell them how great they are; how far they’ve come; how powerful they are; how they need to work together and to trust in one another.</p><p>You can tell that it works. You assign everyone duties in interrogation, location, and diffusal. All to find the bomb and save the city. You can only hope that the second-best bomb diffuser believes in themselves enough to succeed.</p><p>You put your deduction skills on overdrive.</p><p>If this bomb could be remotely activated, the bomber would’ve avoided arrest entirely. Following that, it is highly likely they had to prime the bomb manually. Factoring in the location of the bomber’s arrest, there could be the bomb nearby. However, maybe the bomber sought to be arrested hoping we would make this conclusion and turn us away from the actual location. So it might be safer to say that bomb is not in the vicinity of the bomber’s arrest location. Nonetheless, you send a bomb squad (Nowhere near the best, though).</p><p>Manual priming of the bomb would explain why they had the bomb’s schematics on them. Looking at the schematics, you understand that this bomb would not only take quite some time to assemble, but would be quite easy to identify given it’s size and design. This means it would have to be disguised. The city does not allow abandoned building to stay up longer than a month which is not enough time to plant such a bomb. So that means it had to be built alongside the building it is hidden in.</p><p>Still, city surveillance gets more intense and discrete the closer one is to the centre of the metropolis. Therefore, suspicious materials such as radioactive matter would have been flagged anywhere near the mid-circle of the city. However, given a bomb of this scale, any placement would have been enough to cause mass casualties; even the outskirts. This greatly narrows the search radius for the bomb: new buildings on the outskirts of the city. This isn’t enough. You need something else!</p><p>How perfect of a bomb would a suicide bomber have made? Given their blatant disregard for their own life, they probably did not take measures to shield themselves from the radiation. A simple radiation test on the bomber’s skin and clothes confirms your suspicions. They are infected. This presents two possible conclusions; one, assuming they did not change clothing the bomber had to have been exposed to the radiation within the day; and two, if that is true, the bomb must be leaking radiation even at this moment. YES!</p><p>You command your forces to scan for unusual radioactivity in the new buildings in the outskirts of the city.</p><p>It doesn’t even take an hour for the bomb to be found hidden beneath a new apartment building. You don’t know how much time you had left so you begin heading towards the bomb. One of your officer’s stops you outside the station reporting that the bomb has been successfully diffused. Your deduction skills have saved the city.</p><p>But will they be enough for the next threat? What if you have to outmaneuver someone of equal genius to yourself? Do you trust in your abilities enough to always avoid the easier but crueler method? Do you trust yourself not to get overconfident?</p><p>Who knows?</p>",
            };

        function show_answer(choice) {
            for (var key in choices) {
                if (key == choice) {
                    document.getElementById('answer').innerHTML = choices[key];
                }
            }
        }
        document.getElementById("machi").addEventListener('click', () => {
            traits[0]["machi"] = traits[0]["machi"] + 1;
            traits[0]["ratio"] = traits[0]["ratio"] + 1;
        }, { once: true });

        document.getElementById("princ").addEventListener('click', () => {
            traits[0]["princ"] = traits[0]["princ"] + 1;
            traits[0]["hopef"] = traits[0]["hopef"] + 1;
        }, { once: true });

        document.getElementById("machisless").addEventListener('click', () => {
            traits[0]["machi"] = traits[0]["machi"] + 2;
            traits[0]["sless"] = traits[0]["sless"] + 1;
        }, { once: true });

        document.getElementById("machislish").addEventListener('click', () => {
            traits[0]["slish"] = traits[0]["slish"] + 1;
        }, { once: true });

        document.getElementById("hopprinc").addEventListener('click', () => {
            traits[0]["princ"] = traits[0]["princ"] + 2;
            traits[0]["hopef"] = traits[0]["hopef"] + 1;
        }, { once: true });

        document.getElementById("ratprinc").addEventListener('click', () => {
            traits[0]["fatal"] = traits[0]["fatal"] + 1;
            traits[0]["ratio"] = traits[0]["ratio"] + 1;
        }, { once: true });

        document.getElementById("susprinc").addEventListener('click', () => {
            traits[0]["ratio"] = traits[0]["ratio"] + 1;
        }, { once: true });

        document.getElementById("final").onclick = function(){
            $.ajax({
                type: "POST",
                contentType: "application/json",
                url: "/torture",
                traditional: "true",
                data: JSON.stringify(traits),
                dataType: "json"
            })
            }
    </script>
{% endblock %}