var traits = {{ traits }};
        var choices = {"loslishend": "<p>It doesn’t take as many teeth or even a full hand of nails to break them both. The screams of the loved one echoed and tore through the bomber’s resolve like a hot blade through butter.</p><p>The bomber begs you to stop, bloody tears running in zigzags along their disfigured face. Through clenched teeth and sweltering rage, they give you the exact location of the bomb and the specific code required to shut it down.</p><p>You have won this contest of wills.</p><p>The bomb squad finds the bomb and shuts it down with hardly ten minutes to spare. The city is safe because of your commitment to your land. But at what cost?</p><p>Is this what you will do next time there is a threat? How will you decide what threat legitimizes these methods? Will those criteria stay constant?</p><p>How many years of this can you withstand? Will you be human at the end?</p><p>Who knows?</p>",
            "hislishend": "<p>You sit with the two individuals and ponder. Two more hours of enhanced interrogation of the bomber in the presence of the loved one. The loved one cried and pleaded with the bomber as they suffer under your resolve. You’re almost there, you can feel it. They just need more <i>convincing</i>. And then…</p><p>The earth shakes. It shakes so much that your bones quake as the sound of thunder burrows down to your chamber. No…</p><p>You see the slumped over bomber breathe their last chuckle as you run out of the chamber and up the stairs to the surface. This cannot be happening…</p><p>You are unsure whether the world is still shaking or your body is trembling but your dash up the spiral of stairs. Were these stairs always this long?</p><p>You reach the surface to find sunlight pouring in from the missing half of your police station. Debris is scattered everywhere. Debris of inanimate and <i>formerly-animate</i> entities decorate the remainder of the building. The open view afforded by your newly-remodeled police station betrays the sight of a massive depression. A cold emptiness where half of your wonderful city once existed. </p><p>You failed. Your decisions brought you here. Would you have succeeded if you used the loved one? Would you have saved the city if you had helped the bomb squad instead?</p><p>Who knows?</p>",
            "fatalprinc": "<p>Fate is a cruel mistress, so you cannot rationally let yourself leave two important factors to her whims. Your skills will make diffusing the bomb a predetermined certanity. Fate will determine whether or not this bomb is to be found or not. If you and the city were meant to vanish today, then so be it. Your trust in the kindness of the universe may cost the lives of millions of innocent and evil people alike. But does fate love you as much as you trust her?</p><p>Who knows?</p><p>Well, apparently you do.</p><p>After an educated guess as to the location of the bomb given the place the bomber was arrested, your bomb squad splits into three teams with you leading the team heading to the most likely location. After one hour of searching every building in the vicinity, you have found nothing. You have been lucky enough to maintain public order in every building you have searched so far. It’s surprising the gullibility humans maintain even when they see heavily armored individuals roaming a building. As if the armor will be of any use. The other two teams' reports are also grim.</p><p>And then lady luck blesses you. Headquarters calls to inform you that they’ve received an unbelievable tip. A newly employed janitor was doing their job when they heard an odd hum from the pipes. Upon inspection, they realized that some very strange contraption was built into the pipes underneath the building. Here’s the amusing part, the janitor had slept late the previous night binging documentaries about planted bombs and hiding weapons in plain sight and decided to call the police. The building is one block away from your current location.</p><p>You waste no time in getting your squad to the location and you find the bomb slyly disguised within the piping. It is an absurdly intricate contraption. You are certain that the other bomb diffusers would never manage to figure it out. But you are a master.</p><p>After a tense hour of cable management and clever short circuiting, your deft hands tame the monster before you and the hum dies down. The bomb has been shut down. You have won your queen’s favour: fate is on your side.</p><p>But will she always be? How fickle can your mistress fate be? Who’s to say there isn’t a bigger bomb underneath this one set to go off a day after the first one’s diffusal?</p><p>Can you trust that fate won’t trick you out of benefitting from a good situation as she tricked out of this terrible one? Can you allow others to trust you who trusts such a fickle entity?</p><p>Who knows?</p>",
            "failfatal": "<p>You stand over your desk pondering over this heavy decision (i hope). Your senior officers offer their wisest advice. Their words are sounds but they fall on deaf ears. The decision has been made.</p><p>You open your mouth to speak but only see nothingness where that was once something.</p><p>You’re back? Huh...wow. I guess fate doesn’t like you very much. Don’t worry, she’s not well liked around here so…</p><p>Maybe she would have favoured your decisions if you trusted in her fully, I doubt anyone likes half-hearted beings. Even among us.</p><p>What happened? The bomb went off. LoL it was in the building next to the station.</p><p>Such a troll. Maybe I should change my name to fate.</p><p>On another note, how far do you think that short simulation stretched. How many characters did it entail? Just the officers etcetera? Or maybe billions. Fun fact: there were only seven other individuals in the entire world of that first scenario. But did that city truly have millions of inhabitants each with a history and ancestry as rich as the city itself? Would they believe you if you told them that I created them and all they’ve ever known merely minutes ago to test you?</p><p>Would you believe it?</p><p>Player?</p><p>That all your memories and hopes and dreams have only existed since five sentences or seconds ago? That you and all that you see exist only to facilitate a test in which someone in another continent has to pick between a red pill and a blue pill? Does it matter?</p><p>Who knows?</p>",
            "utiliprinc": "<p>Not the most consistent of individuals are you?</p><p>Nevertheless, you decide to give fate some trust. Provided she can provide results that will benefit everyone. As you and your teams search and scour the entire city, hours pass. Several, empty, uneventful hours pass.</p><p>And you begin to wonder, was this bomb even present? This whole thing could be a sharade. A simple lie to throw the entire police force into disarray. What if this was a diversion for another crime? Where?</p><p>ENOUGH!</p><p>You radio a command to all of your forces. Your mind has worked out hundreds of scenarios in your head and the possibility of this threat being true has become insignificant. You decide to return to business as usual. There is NOTHING. At any rate, using your forces in this manner is a waste of police and city resources. Your officers are loyal and place unbelievable trust in you.</p><p>The atmosphere in the station is tense as you try to go about your business. It is approaching midnight and nothing has happened. Were you right? Was this a bluff or did your gamble just cost everyone their lives? The station has emptied out but you cannot leave. You stare at the clock across your office as it chimes ever so closely to midnight.</p><p>Ding! or Dong! or YUH! or whatever your office clock sounds would be. <insert your sound here>, goes the clock. Nothing! You were correct! Nothing happened. The bomber claimed that the bomb would go off within the day and nothing has happened. But what if the time constraint was a lie?</p><p>But it wasn’t. A day passes. A week. A month. Even a year. Soon no one remembers the threat of total annihilation that loomed over them. Until the next one. If there is one.</p><p>And if there is? Will you treat it with the same disregard? Are you willing to keep making such a gamble on such a high risk case? How severe a threat would it take to earn your regard? What about when it fails?</p><p>Are you certain of every choice you make? And if you’re not, does it become a gamble? Given how many choices you make in your lifetime, does that make you a compulsive gambler? Is life itself a gamble?</p><p>Who knows?</p>",
            "hiprinc" : "<p>Some encouragement is definitely needed among your forces before such a mission. You gather the entire police force currently at the station. You muster up the most uplifting and motivational words and spew them onto your officers. You tell them how great they are; how far they’ve come; how powerful they are; how they need to work together and to trust in one another.</p><p>You can tell that it works. You assign everyone duties in interrogation, location, and diffusal. All to find the bomb and save the city. You can only hope that the second-best bomb diffuser believes in themselves enough to succeed.</p><p>You put your deduction skills on overdrive.</p><p>If this bomb could be remotely activated, the bomber would’ve avoided arrest entirely. Following that, it is highly likely they had to prime the bomb manually. Factoring in the location of the bomber’s arrest, there could be the bomb nearby. However, maybe the bomber sought to be arrested hoping we would make this conclusion and turn us away from the actual location. So it might be safer to say that bomb is not in the vicinity of the bomber’s arrest location. Nonetheless, you send a bomb squad (Nowhere near the best, though).</p><p>Manual priming of the bomb would explain why they had the bomb’s schematics on them. Looking at the schematics, you understand that this bomb would not only take quite some time to assemble, but would be quite easy to identify given it’s size and design. This means it would have to be disguised. The city does not allow abandoned building to stay up longer than a month which is not enough time to plant such a bomb. So that means it had to be built alongside the building it is hidden in.</p><p>Still, city surveillance gets more intense and discrete the closer one is to the centre of the metropolis. Therefore, suspicious materials such as radioactive matter would have been flagged anywhere near the mid-circle of the city. However, given a bomb of this scale, any placement would have been enough to cause mass casualties; even the outskirts. This greatly narrows the search radius for the bomb: new buildings on the outskirts of the city. This isn’t enough. You need something else!</p><p>How perfect of a bomb would a suicide bomber have made? Given their blatant disregard for their own life, they probably did not take measures to shield themselves from the radiation. A simple radiation test on the bomber’s skin and clothes confirms your suspicions. They are infected. This presents two possible conclusions; one, assuming they did not change clothing the bomber had to have been exposed to the radiation within the day; and two, if that is true, the bomb must be leaking radiation even at this moment. YES!</p><p>You command your forces to scan for unusual radioactivity in the new buildings in the outskirts of the city.</p><p>It doesn’t even take an hour for the bomb to be found hidden beneath a new apartment building. You don’t know how much time you had left so you begin heading towards the bomb. One of your officer’s stops you outside the station reporting that the bomb has been successfully diffused. Your deduction skills have saved the city.</p><p>But will they be enough for the next threat? What if you have to outmaneuver someone of equal genius to yourself? Do you trust in your abilities enough to always avoid the easier but crueler method? Do you trust yourself not to get overconfident?</p><p>Who knows?</p>",
            };

        function make_visible(id) {
            var e = document.getElementById(id);
            e.style.display = 'block';
        }

        function make_invisible(id) {
            var f = document.getElementById(id);
            f.style.display = 'none';
        }

        var limit = 0;
        function show_end() {
            if (traits["princ"] > 0 && traits["fatal"] = 4) {
                document.getElementById('answer').innerHTML = choices["fatalprinc"]
            }
            else if (traits["princ"] = 3) {
                document.getElementById('answer').innerHTML = choices["hiprinc"]
            }
            else if (traits["princ"] > 0 && traits["utili"] > 0 && traits["ratio"] > 0){
                document.getElementById('answer').innerHTML = choices["utiliprinc"]
            }
            else {
                document.getElementById('answer').innerHTML = choices["failfatal"]
            }
        }

        function show_answer(choice) {
            for (var key in choices) {
                if (key == choice) {
                    document.getElementById('answer').innerHTML = choices[key];
                }
            }
        }

        document.getElementById("machi").addEventListener('click', () => {
            trait["machi"] = trait["machi"] + 1;
            trait["ratio"] = trait["ratio"] + 1;
        }, { once: true });

        document.getElementById("princ").addEventListener('click', () => {
            trait["princ"] = trait["princ"] + 1;
            trait["hopef"] = trait["hopef"] + 1;
        }, { once: true });

        document.getElementById("machisless").addEventListener('click', () => {
            trait["machi"] = trait["machi"] + 2;
            trait["sless"] = trait["sless"] + 1;
        }, { once: true });

        document.getElementById("machislish").addEventListener('click', () => {
            trait["slish"] = trait["slish"] + 1;
        }, { once: true });

        document.getElementById("hopprinc").addEventListener('click', () => {
            trait["princ"] = trait["princ"] + 2;
            trait["hopef"] = trait["hopef"] + 1;
        }, { once: true });

        document.getElementById("ratprinc").addEventListener('click', () => {
            trait["fatal"] = trait["fatal"] + 1;
            trait["ratio"] = trait["ratio"] + 1;
        }, { once: true });